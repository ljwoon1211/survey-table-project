# PRD: Survey Table - 설문조사 관리 시스템

## 1. Product overview

### 1.1 Document title and version

- PRD: Survey Table - 설문조사 관리 시스템
- Version: 2.0
- Last Updated: 2025-01-14

### 1.2 Product summary

Survey Table은 구글 폼과 유사한 기능을 제공하는 현대적인 설문조사 관리 시스템입니다. 사용자들이 쉽게 설문지를 생성하고, 다양한 형태의 질문 유형을 지원하며, 실시간으로 응답 데이터를 수집하고 분석할 수 있는 플랫폼을 제공합니다.

이 시스템은 Apple의 깔끔하고 직관적인 UI/UX 디자인 철학을 적용하여 사용자 경험을 극대화하며, Next.js 15 기반의 현대적인 기술 스택을 활용하여 안정적이고 확장 가능한 서비스를 구현합니다. 프로토타입 단계에서는 복잡한 인증 시스템 대신 링크 기반의 간단한 접근 제어 방식을 채택합니다.

## 2. Goals

### 2.1 Business goals

- 사용자가 쉽게 설문조사를 생성하고 관리할 수 있는 직관적인 플랫폼 제공
- 다양한 설문 유형과 고급 기능을 통한 차별화된 서비스 구현
- 실시간 데이터 수집 및 분석 기능으로 사용자 가치 창출
- 현대적인 기술 스택을 활용한 확장 가능한 서비스 아키텍처 구축

### 2.2 User goals

- 복잡한 설문조사를 간편하게 생성하고 관리
- 다양한 질문 유형과 미디어 콘텐츠를 활용한 풍부한 설문 구성
- 실시간으로 응답 현황을 모니터링하고 데이터 분석
- 설문 응답자들이 편리하게 참여할 수 있는 환경 제공

### 2.3 Non-goals

- 복잡한 사용자 인증 및 권한 관리 시스템 (프로토타입 단계)
- 유료 결제 시스템 및 구독 모델
- 고급 통계 분석 및 리포팅 기능 (기본적인 분석만 제공)
- 모바일 앱 개발 (웹 기반 반응형 디자인으로 대응)

## 3. User personas

### 3.1 Key user types

- **설문 참여자 (Survey Participant)**: 링크 접근 → 소개 확인 → 문항 응답 → 완료
- **설문 생성자 (Survey Creator)**: 설문 생성 → 문항 추가 → 링크 생성 → 배포
- **설문 관리자 (Survey Administrator)**: 대시보드 접근 → 실시간 모니터링 → 데이터 분석 → 내보내기

### 3.2 Basic persona details

- **설문 생성자**: 설문조사를 기획하고 생성하는 사용자로, 다양한 질문 유형과 설정을 활용하여 목적에 맞는 설문지를 구성합니다.
- **설문 관리자**: 생성된 설문조사를 모니터링하고 관리하며, 수집된 데이터를 분석하고 내보내는 역할을 수행합니다.
- **설문 참여자**: 공유된 링크를 통해 설문조사에 접근하여 질문에 응답하고 제출하는 일반 사용자입니다.

### 3.3 Role-based access

- **설문 생성자**: 새로운 설문 생성, 질문 추가/편집, 설문 설정 관리, 공유 링크 생성 기능에 접근할 수 있습니다.
- **설문 관리자**: 대시보드 접근, 실시간 응답 모니터링, 데이터 분석 도구, 결과 내보내기 기능을 이용할 수 있습니다.
- **설문 참여자**: 공개/비공개 설문 링크를 통해 설문에 접근하고 응답할 수 있으며, 별도의 계정 생성 없이 참여 가능합니다.

## 4. Functional requirements

### 4.1 Core Features (Priority: High)

- **설문 생성 및 편집**
  - 다양한 질문 유형 지원 (select, radio, checkbox, text, textarea)
  - 질문별 필수/선택 설정
  - 질문 순서 변경 및 그룹화
  - 설문 제목, 설명, 완료 메시지 설정

- **동적 다단계 Select 옵션**
  - 2단계, 3단계 확장 가능한 select 박스 (시/도 → 시/군/구 → 읍/면/동)
  - 상위 선택에 따른 하위 옵션 동적 로딩
  - 데이터베이스 스키마의 유연한 확장 지원

- **링크 기반 접근 제어**
  - 공개 링크와 비공개 링크 생성 옵션
  - 비공개 링크의 난수화된 URL 생성 (example.com/survey/aasdfxvz)
  - 설문 만료일 및 응답 제한 설정

- **테이블 형식 질문**
  - 행과 열을 동적으로 추가/삭제 가능한 테이블 구성
  - 테이블 셀 내 이미지 및 동영상 링크 삽입 지원
  - 테이블 헤더 및 셀 스타일링 옵션

### 4.2 Enhanced Features (Priority: Medium)

- **기타 옵션 처리**
  - 선택형 질문에서 "기타" 옵션 선택 시 텍스트 입력창 표시
  - 기타 응답 데이터의 별도 저장 및 관리

- **미디어 콘텐츠 지원**
  - 질문 및 테이블 내 이미지 업로드 및 링크 삽입
  - 동영상 링크 삽입 (YouTube, Vimeo 등)
  - 미디어 파일 크기 및 형식 제한 설정

- **실시간 모니터링**
  - 실시간 응답 현황 대시보드
  - 응답 진행률 및 완료율 표시
  - 질문별 응답 분포 시각화

- **데이터 관리 및 분석**
  - 응답 데이터의 필터링 및 검색 기능
  - 기본적인 통계 정보 제공 (평균, 빈도 등)
  - CSV, Excel 형태의 데이터 내보내기

## 5. User experience

### 5.1 Entry points & first-time user flow

- 홈페이지 접근을 통한 서비스 소개 및 설문 생성 시작
- 설문 참여자는 공유받은 링크를 통해 직접 설문 페이지 접근
- 설문 관리자는 생성된 설문의 관리 대시보드로 직접 이동
- 첫 방문자를 위한 간단한 가이드 및 예시 설문 제공

### 5.2 Core experience

- **설문 생성**: 사용자가 홈페이지에서 "새 설문 만들기" 버튼을 클릭하여 설문 생성을 시작합니다.
  - 직관적인 드래그 앤 드롭 인터페이스로 질문을 쉽게 추가하고 순서를 변경할 수 있습니다.
- **질문 구성**: 다양한 질문 유형 중에서 선택하고 설정을 구성합니다.
  - 실시간 미리보기 기능으로 설문이 어떻게 보일지 즉시 확인할 수 있습니다.
- **설문 공유**: 완성된 설문의 공개/비공개 링크를 생성하고 복사하여 배포합니다.
- **응답 수집**: 설문 참여자들이 링크를 통해 접근하여 응답합니다.
  - 진행률 표시와 저장 기능으로 중간에 나가도 나중에 이어서 작성할 수 있습니다.

### 5.3 Advanced features & edge cases

- 대용량 응답 데이터 처리 및 성능 최적화
- 네트워크 연결 불안정 시 응답 데이터 임시 저장 기능
- 설문 복사 및 템플릿 기능으로 유사한 설문 빠르게 생성
- 설문 응답 마감 후 결과 페이지 자동 표시
- 부적절한 응답 필터링 및 스팸 방지 기능

### 5.4 UI/UX highlights

- **Apple 스타일 디자인 철학**: 미니멀하고 직관적인 인터페이스로 복잡한 기능을 단순하게 표현
- **Pretendard 폰트**: 한글과 영문이 조화로운 가독성 최적화 폰트 시스템 적용
- **shadcn/ui 컴포넌트**: 일관성 있는 디자인 시스템과 재사용 가능한 UI 컴포넌트
- **반응형 디자인**: TailwindCSS 기반으로 모든 디바이스에서 최적의 경험 제공
- **부드러운 인터랙션**: 마이크로 애니메이션과 즉각적인 피드백으로 사용자 경험 향상
- **접근성 우선**: 키보드 네비게이션, 스크린 리더 지원, WCAG 2.1 AA 준수

## 6. Technical considerations

### 6.1 Technology Stack

#### Frontend
- **Next.js 15**: App Router 기반 풀스택 React 프레임워크
- **TailwindCSS**: 유틸리티 퍼스트 CSS 프레임워크
- **shadcn/ui**: 재사용 가능한 컴포넌트 라이브러리
- **TanStack Query**: 서버 상태 관리 및 데이터 페칭
- **Zustand**: 클라이언트 상태 관리
- **TanStack Table**: 고성능 테이블 데이터 관리
- **Zod**: TypeScript 스키마 검증
- **React Hook Form**: 성능 최적화된 폼 관리
- **Pretendard**: 한글 최적화 웹폰트

#### Backend
- **Next.js 15 API Routes**: 서버리스 API 엔드포인트
- **Prisma**: 타입 세이프 데이터베이스 ORM

#### Infrastructure
- **Supabase**: PostgreSQL 데이터베이스 및 실시간 기능
- **Upstash Redis**: 캐싱 및 세션 관리
- **Amazon S3**: 미디어 파일 저장소
- **Amazon CloudFront**: CDN 및 전역 콘텐츠 배포
- **Amazon EC2**: 애플리케이션 호스팅
- **Sentry**: 에러 모니터링 및 성능 추적

### 6.2 Integration points

- **실시간 데이터베이스**: Supabase 실시간 구독으로 응답 현황 즉시 업데이트
- **파일 업로드**: S3 Direct Upload로 클라이언트에서 직접 업로드
- **CDN 최적화**: CloudFront로 정적 자산 및 이미지 최적화 배포
- **캐싱 전략**: Upstash Redis로 설문 메타데이터 및 세션 캐싱
- **에러 추적**: Sentry 통합으로 실시간 에러 모니터링 및 성능 최적화

### 6.3 Data storage & privacy

- **데이터 암호화**: 설문 응답 데이터의 암호화 저장
- **접근 제어**: 비공개 설문의 UUID 기반 난수화 링크로 보안 강화
- **데이터 최소화**: 개인정보 최소 수집 원칙 적용
- **백업 전략**: Supabase 자동 백업 및 Point-in-time 복구
- **GDPR 준수**: 데이터 삭제 및 수정 권한 제공

### 6.4 Scalability & performance

- **서버 컴포넌트**: Next.js 15 RSC로 초기 로딩 성능 최적화
- **데이터 페칭**: TanStack Query로 효율적인 캐싱 및 백그라운드 업데이트
- **상태 관리**: Zustand로 경량화된 클라이언트 상태 관리
- **폼 최적화**: React Hook Form으로 최소 리렌더링 구현
- **테이블 성능**: TanStack Table로 가상화된 대용량 데이터 처리
- **데이터베이스 최적화**: Prisma 쿼리 최적화 및 데이터베이스 인덱싱
- **이미지 최적화**: Next.js Image 컴포넌트와 CloudFront 연동

### 6.5 Potential challenges

- **동적 Select 복잡성**: 다단계 옵션의 데이터 구조 및 성능 최적화
- **테이블 데이터 관리**: 복잡한 테이블 형식 질문의 데이터 정규화
- **실시간 동시성**: 대용량 동시 응답 처리 시 성능 병목
- **미디어 파일 관리**: 대용량 파일 업로드 및 최적화 처리
- **데이터베이스 확장성**: 설문 및 응답 데이터 증가에 따른 쿼리 성능 유지

## 7. Success metrics

### 7.1 User-centric metrics

- 설문 생성 완료율 (생성 시작 대비 공유까지 완료)
- 설문 응답 완료율 (접근자 대비 최종 제출)
- 평균 설문 작성 소요 시간
- 사용자 만족도 점수 (설문 생성자 기준)
- 반복 사용률 (월간 활성 사용자 기준)

### 7.2 Business metrics

- 월간 활성 설문 수
- 총 수집된 응답 수
- 평균 설문당 응답 수
- 설문 공유율 (SNS, 이메일 등)
- 데이터 내보내기 사용률

### 7.3 Technical metrics

- 페이지 로딩 속도 (3초 이내 목표)
- 서버 응답 시간 (500ms 이내)
- 시스템 가용성 (99.5% 이상)
- 데이터베이스 쿼리 성능
- CDN 캐시 히트율

## 8. Development workflow & milestones

### 8.1 Project estimate

- **규모**: Large (6-8주)
- **복잡도**: Medium-High
- **팀 구성**: 풀스택 개발자 2-3명, UI/UX 디자이너 1명

### 8.2 Suggested phases

#### Phase 1: Core Infrastructure & Basic Features (3주)
- Next.js 15 프로젝트 설정 및 기술 스택 통합
- 기본 설문 생성 및 질문 유형 구현
- 링크 기반 설문 공유 시스템
- 기본 UI/UX 구성 및 Apple 스타일 디자인 시스템

#### Phase 2: Advanced Features & Data Management (2-3주)
- 동적 다단계 Select 옵션 구현
- 테이블 형식 질문 및 미디어 삽입 기능
- 실시간 응답 모니터링 대시보드
- 데이터 분석 및 내보내기 기능

#### Phase 3: Optimization & Production Ready (2주)
- 성능 최적화 및 캐싱 전략 구현
- 보안 강화 및 에러 처리
- 사용자 테스트 및 피드백 반영
- 배포 환경 구성 및 모니터링 설정

## 9. User stories

### 9.1 설문 생성 및 관리

**US-001: 새 설문 생성**
- **Description**: 설문 생성자로서, 새로운 설문조사를 생성하여 조사 목적에 맞는 설문지를 만들고 싶습니다.
- **Acceptance criteria**:
  - 홈페이지에서 "새 설문 만들기" 버튼을 클릭할 수 있다
  - 설문 제목과 설명을 입력할 수 있다
  - 설문 생성 후 편집 페이지로 자동 이동한다
  - 설문이 데이터베이스에 저장된다

**US-002: 다양한 질문 유형 추가**
- **Description**: 설문 생성자로서, 다양한 질문 유형을 설문에 추가하여 필요한 정보를 수집하고 싶습니다.
- **Acceptance criteria**:
  - text, textarea, radio, checkbox, select 질문을 추가할 수 있다
  - 각 질문의 필수/선택 여부를 설정할 수 있다
  - 질문별로 제목과 설명을 입력할 수 있다
  - 질문 순서를 드래그 앤 드롭으로 변경할 수 있다

### 9.2 고급 기능

**US-003: 동적 다단계 Select 옵션**
- **Description**: 설문 생성자로서, 지역 선택과 같은 위계적 옵션을 다단계로 구성하여 정확한 정보를 수집하고 싶습니다.
- **Acceptance criteria**:
  - 2단계, 3단계 select 옵션을 설정할 수 있다
  - 상위 선택에 따라 하위 옵션이 동적으로 변경된다
  - 각 단계별 옵션을 직접 입력할 수 있다

**US-004: 테이블 형식 질문**
- **Description**: 설문 생성자로서, 매트릭스 형태의 복잡한 질문을 테이블로 구성하여 체계적인 응답을 받고 싶습니다.
- **Acceptance criteria**:
  - 테이블 형식의 질문을 생성할 수 있다
  - 행과 열을 동적으로 추가/삭제할 수 있다
  - 각 셀에 텍스트, 이미지, 동영상 링크를 삽입할 수 있다

### 9.3 링크 공유 및 응답

**US-005: 설문 링크 생성 및 공유**
- **Description**: 설문 생성자로서, 완성된 설문을 공개 또는 비공개 링크로 생성하여 대상자들에게 배포하고 싶습니다.
- **Acceptance criteria**:
  - 공개 링크와 비공개 링크 중 선택할 수 있다
  - 비공개 링크는 난수화된 URL이 생성된다 (예: /survey/abc123xyz)
  - 생성된 링크를 클립보드로 복사할 수 있다

**US-006: 설문 응답 참여**
- **Description**: 설문 참여자로서, 공유받은 링크를 통해 설문에 접근하여 질문에 응답하고 제출하고 싶습니다.
- **Acceptance criteria**:
  - 설문 링크 클릭 시 설문 소개 페이지가 표시된다
  - 모든 질문에 응답할 수 있다
  - 필수 질문 미응답 시 제출이 차단되고 알림이 표시된다
  - 응답 완료 후 감사 메시지가 표시된다

### 9.4 데이터 관리 및 분석

**US-007: 실시간 응답 모니터링**
- **Description**: 설문 관리자로서, 진행 중인 설문의 응답 현황을 실시간으로 모니터링하여 조사 상황을 파악하고 싶습니다.
- **Acceptance criteria**:
  - 실시간 응답 수가 대시보드에 표시된다
  - 응답 진행률과 완료율이 시각화된다
  - 질문별 응답 분포가 차트로 표시된다

**US-008: 응답 데이터 내보내기**
- **Description**: 설문 관리자로서, 수집된 응답 데이터를 CSV나 Excel 형식으로 내보내어 추가 분석에 활용하고 싶습니다.
- **Acceptance criteria**:
  - 전체 응답 데이터를 CSV 형식으로 다운로드할 수 있다
  - Excel 형식(.xlsx)으로 다운로드할 수 있다
  - 필터링된 응답만 선택적으로 내보낼 수 있다

---

*이 PRD는 Survey Table 시스템의 종합적인 개발 계획을 제시하며, 현대적인 기술 스택을 활용한 확장 가능하고 사용자 중심의 설문조사 플랫폼 구축을 목표로 합니다.*