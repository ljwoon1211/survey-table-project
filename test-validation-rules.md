# í…Œì´ë¸” ê²€ì¦ ê·œì¹™ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

## í…ŒìŠ¤íŠ¸ ì„¤ë¬¸ êµ¬ì¡°
- **í–‰1**: UHD TV (ë¼ë””ì˜¤)
- **í–‰2**: ë””ì§€í„¸ TV (ë¼ë””ì˜¤)
- **í–‰3**: ì•„ë‚ ë¡œê·¸ TV (ë¼ë””ì˜¤)
- **í–‰4**: PC TV (ë¼ë””ì˜¤)
- **í–‰5**: ë¹ŒíŠ¸ì¸ TV (ë¼ë””ì˜¤)

ê° í–‰ì˜ ì²« ë²ˆì§¸ ì—´(0ë²ˆ)ì€ í…ìŠ¤íŠ¸, ì‹¤ì œ ë¼ë””ì˜¤ ë²„íŠ¼ì€ ê·¸ ë‹¤ìŒ ì—´ì— ìœ„ì¹˜.

---

## 1. exclusive-check (ë…ì  ì²´í¬)
**ì˜ë¯¸**: ì§€ì •í•œ í–‰**ë§Œ** ì²´í¬ë˜ê³ , **ë‹¤ë¥¸ í–‰ì€ ëª¨ë‘ ì²´í¬ ì•ˆë¨**

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### ì¼€ì´ìŠ¤ 1-1: ì •ìƒ - í–‰3ë§Œ ì„ íƒ
- **ì„¤ì •**: rowIds = [í–‰3], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (ì„¤ë¬¸ ì¢…ë£Œ)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 1-2: ì‹¤íŒ¨ - í–‰3, í–‰4 ë‘˜ë‹¤ ì„ íƒ
- **ì„¤ì •**: rowIds = [í–‰3], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3, í–‰4 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âŒ false (í–‰3ë§Œ ìˆì–´ì•¼ í•˜ëŠ”ë° í–‰4ë„ ìˆìŒ)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 1-3: ì •ìƒ - í–‰3, í–‰4ë§Œ ì„ íƒ (ë‘˜ ë‹¤ ì§€ì •)
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3, í–‰4ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (ì§€ì •í•œ í–‰ë“¤ë§Œ ì²´í¬ë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 1-4: ì‹¤íŒ¨ - í–‰1 ì¶”ê°€ ì„ íƒ
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰1, í–‰3, í–‰4 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âŒ false (í–‰1ì€ ì§€ì • ì•ˆí–ˆëŠ”ë° ì²´í¬ë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

---

## 2. any-of (í•˜ë‚˜ë¼ë„ ì²´í¬)
**ì˜ë¯¸**: ì§€ì •í•œ í–‰ ì¤‘ **ìµœì†Œ 1ê°œ ì´ìƒ** ì²´í¬ë¨

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### ì¼€ì´ìŠ¤ 2-1: ì •ìƒ - í–‰3ë§Œ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (í–‰3, í–‰4 ì¤‘ í–‰3ì´ ì²´í¬ë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 2-2: ì •ìƒ - í–‰3, í–‰4 ë‘˜ ë‹¤ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3, í–‰4 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (ë‘˜ ë‹¤ ì²´í¬ë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 2-3: ì‹¤íŒ¨ - ë‹¤ë¥¸ í–‰ë§Œ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰1ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âŒ false (í–‰3, í–‰4 ì¤‘ ì•„ë¬´ê²ƒë„ ì²´í¬ ì•ˆë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

---

## 3. all-of (ëª¨ë‘ ì²´í¬)
**ì˜ë¯¸**: ì§€ì •í•œ í–‰ì´ **ëª¨ë‘** ì²´í¬ë˜ì–´ì•¼ í•¨

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### ì¼€ì´ìŠ¤ 3-1: ì •ìƒ - ëª¨ë‘ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3, í–‰4 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (ì§€ì •í•œ í–‰ ëª¨ë‘ ì²´í¬ë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 3-2: ì‹¤íŒ¨ - ì¼ë¶€ë§Œ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âŒ false (í–‰4ê°€ ì²´í¬ ì•ˆë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 3-3: ì •ìƒ - ì¶”ê°€ í–‰ë„ ì²´í¬ (ì§€ì •í•œ í–‰ì€ ëª¨ë‘ í¬í•¨)
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰1, í–‰3, í–‰4 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (í–‰3, í–‰4ëŠ” ëª¨ë‘ ì²´í¬ë¨. í–‰1ì€ ìƒê´€ì—†ìŒ)
- **ì‹¤ì œ ê²°ê³¼**: ?

---

## 4. none-of (ëª¨ë‘ ë¯¸ì²´í¬)
**ì˜ë¯¸**: ì§€ì •í•œ í–‰ì´ **ëª¨ë‘ ì²´í¬ ì•ˆë¨**

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### ì¼€ì´ìŠ¤ 4-1: ì •ìƒ - ì§€ì •í•œ í–‰ ëª¨ë‘ ë¯¸ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰1, í–‰2ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true (í–‰3, í–‰4ëŠ” ì²´í¬ ì•ˆë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 4-2: ì‹¤íŒ¨ - ì¼ë¶€ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âŒ false (í–‰3ì´ ì²´í¬ë¨)
- **ì‹¤ì œ ê²°ê³¼**: ?

---

## 5. required-combination (í•„ìˆ˜ ì¡°í•©)
**ì˜ë¯¸**: ì§€ì •í•œ í–‰ì´ **ëª¨ë‘** ì²´í¬ë˜ì–´ì•¼ í•¨ (all-ofì™€ ë™ì¼)

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### ì¼€ì´ìŠ¤ 5-1: ì •ìƒ - ì§€ì •í•œ ì¡°í•© ëª¨ë‘ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3, í–‰4 ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âœ… true
- **ì‹¤ì œ ê²°ê³¼**: ?

#### ì¼€ì´ìŠ¤ 5-2: ì‹¤íŒ¨ - ì¼ë¶€ë§Œ ì²´í¬
- **ì„¤ì •**: rowIds = [í–‰3, í–‰4], cellColumnIndex = 0
- **ì‘ë‹µ**: í–‰3ë§Œ ì²´í¬
- **ì˜ˆìƒ ê²°ê³¼**: âŒ false
- **ì‹¤ì œ ê²°ê³¼**: ?

---

## ë°œê²¬ëœ ë²„ê·¸

### ğŸ› ë²„ê·¸ 1: exclusive-check ë¡œì§ ì˜¤ë¥˜
**ìœ„ì¹˜**: `branch-logic.ts:398-401`

```typescript
const isOnlyTargetRowsChecked =
  allCheckedRows.length > 0 &&
  allCheckedRows.every(id => rowIds.includes(id)) &&
  allCheckedRows.some(id => rowIds.includes(id));  // âŒ ì¤‘ë³µëœ ì¡°ê±´
```

**ë¬¸ì œì **:
- `every`ì™€ `some`ì´ ê°™ì€ ì¡°ê±´ì„ ì²´í¬í•¨
- `every`ê°€ trueë©´ `some`ë„ í•­ìƒ true (ì¤‘ë³µ)
- ì‹¤ì œë¡œ `allCheckedRows`ê°€ ë¹„ì–´ìˆì§€ ì•Šê³ , ëª¨ë“  ì›ì†Œê°€ `rowIds`ì— í¬í•¨ë˜ë©´ OK

**ì˜ˆìƒ ë™ì‘**: 
- ì²´í¬ëœ í–‰ì´ ìˆê³ 
- ì²´í¬ëœ ëª¨ë“  í–‰ì´ ì§€ì •ëœ í–‰ì— í¬í•¨ë˜ë©´
- âœ… true

**ì‹¤ì œ ì˜ë„**:
- ì²´í¬ëœ í–‰ì´ **ì •í™•íˆ** ì§€ì •ëœ í–‰ë“¤ê³¼ ì¼ì¹˜í•´ì•¼ í•¨
- ì¦‰, `rowIds`ì˜ í–‰ë“¤ë„ ëª¨ë‘ ì²´í¬ë˜ì–´ì•¼ í•¨

**ìˆ˜ì • í•„ìš”**:
```typescript
const isOnlyTargetRowsChecked =
  allCheckedRows.length > 0 &&
  allCheckedRows.every(id => rowIds.includes(id)) &&
  rowIds.every(id => allCheckedRows.includes(id));  // ì–‘ë°©í–¥ ì²´í¬
```

ë˜ëŠ” ë” ëª…í™•í•˜ê²Œ:
```typescript
// ì§€ì •ëœ í–‰ë“¤ë§Œ ì²´í¬ë˜ì–´ì•¼ í•¨ (ë‹¤ë¥¸ í–‰ì€ ì²´í¬ ì•ˆë¨)
const isOnlyTargetRowsChecked =
  allCheckedRows.length > 0 &&
  allCheckedRows.every(id => rowIds.includes(id));
```

### ğŸ› ë²„ê·¸ 2: checkedRows vs allCheckedRows í˜¼ë™
**ë¬¸ì œì **:
- `checkedRows`: rowIdsì— ì§€ì •ëœ í–‰ ì¤‘ ì²´í¬ëœ í–‰ (í•„í„°ë§ë¨)
- `allCheckedRows`: ì „ì²´ í…Œì´ë¸”ì—ì„œ ì²´í¬ëœ ëª¨ë“  í–‰

**exclusive-check**ì—ì„œëŠ” `allCheckedRows`ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ,
**any-of, all-of, none-of, required-combination**ì—ì„œëŠ” `checkedRows`ë¥¼ ì‚¬ìš©

**í˜¼ë€ í¬ì¸íŠ¸**:
- `any-of`: "ì§€ì •í•œ í–‰ ì¤‘ í•˜ë‚˜ë¼ë„" â†’ `checkedRows` ì‚¬ìš© âœ…
- `all-of`: "ì§€ì •í•œ í–‰ì´ ëª¨ë‘" â†’ `checkedRows` ì‚¬ìš© âœ…
- `none-of`: "ì§€ì •í•œ í–‰ì´ ëª¨ë‘ ë¯¸ì²´í¬" â†’ `checkedRows` ì‚¬ìš© âœ…
- `exclusive-check`: "ì§€ì •í•œ í–‰**ë§Œ**" â†’ `allCheckedRows` ì‚¬ìš© âœ…

ë¡œì§ ìì²´ëŠ” ë§ì§€ë§Œ, ë³€ìˆ˜ëª…ì´ í—·ê°ˆë¦¼.

---

## í…ŒìŠ¤íŠ¸ ë°©ë²•

1. ê°œë°œ ì„œë²„ ì‹¤í–‰: `npm run dev`
2. ì„¤ë¬¸ í˜ì´ì§€ë¡œ ì´ë™: `http://localhost:3000/survey/test-survey`
3. A2 ì§ˆë¬¸ì—ì„œ ê° ì¼€ì´ìŠ¤ë³„ë¡œ ì²´í¬
4. ë¸Œë¼ìš°ì € ì½˜ì†”(F12)ì—ì„œ ë¡œê·¸ í™•ì¸
5. ì´ ë¬¸ì„œì— ì‹¤ì œ ê²°ê³¼ ê¸°ë¡

---

## ì¶”ì²œ ìˆ˜ì •ì‚¬í•­

### 1. exclusive-check ìˆ˜ì •
í˜„ì¬ "ì§€ì •í•œ í–‰ë§Œ ì²´í¬" ì˜ë¯¸ê°€ ëª¨í˜¸í•¨:
- **í•´ì„ A**: ì§€ì •í•œ í–‰ ì¤‘ ì¼ë¶€ë¼ë„ ì²´í¬ë˜ê³ , ë‹¤ë¥¸ í–‰ì€ ì²´í¬ ì•ˆë¨
- **í•´ì„ B**: ì§€ì •í•œ í–‰ì´ ëª¨ë‘ ì²´í¬ë˜ê³ , ë‹¤ë¥¸ í–‰ì€ ì²´í¬ ì•ˆë¨

**ì¶”ì²œ**: í•´ì„ Aê°€ ë” ì§ê´€ì 
```typescript
// ì²´í¬ëœ í–‰ì´ ìˆê³ , ëª¨ë‘ ì§€ì •ëœ í–‰ì— ì†í•˜ë©´ OK
const isOnlyTargetRowsChecked =
  allCheckedRows.length > 0 &&
  allCheckedRows.every(id => rowIds.includes(id));
```

### 2. ëª…í™•í•œ íƒ€ì… ì¶”ê°€
```typescript
export type TableValidationType =
  | 'exclusive-check'      // ì§€ì •í•œ í–‰ë§Œ (ë‹¤ë¥¸ í–‰ X)
  | 'required-combination' // ì§€ì •í•œ í–‰ ëª¨ë‘ í•„ìˆ˜
  | 'any-of'              // ì§€ì •í•œ í–‰ ì¤‘ ìµœì†Œ 1ê°œ
  | 'all-of'              // ì§€ì •í•œ í–‰ ëª¨ë‘
  | 'none-of';            // ì§€ì •í•œ í–‰ ëª¨ë‘ ë¯¸ì²´í¬
```

### 3. UI ì„¤ëª… ê°œì„ 
`table-validation-editor.tsx`ì˜ ì„¤ëª…ì„ ë” ëª…í™•í•˜ê²Œ:
```typescript
{
  value: "exclusive-check",
  label: "ë…ì  ì²´í¬",
  description: "ì§€ì •í•œ í–‰ë§Œ ì²´í¬ë˜ê³ , ë‹¤ë¥¸ í–‰ì€ ëª¨ë‘ ì²´í¬ ì•ˆë¨"
}
```

